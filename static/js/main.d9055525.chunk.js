(this["webpackJsonpkanban-board"]=this["webpackJsonpkanban-board"]||[]).push([[0],{29:function(t,e,a){},31:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a(7),c=a.n(n),r=a(4),i=(a(29),a(5)),d=a(10),o=a(3),l=function(t,e,a,s){return{type:b.DRAG_HAPPEND,payload:{droppableIdStart:t,droppableIdEnd:e,droppableIndexStart:a,droppableIndexEnd:s}}},b={ADD_TASK:"ADD_TASK",UPDATE_TASK:"UPDATE_TASK",CLEAR_GROUP:"CLEAR_GROUP",DRAG_HAPPEND:"DRAG_HAPPEND"},u=[{className:"backlog",title:"\u0411\u044d\u043a\u043b\u043e\u0433",id:"group-0",tasks:[{id:"card-0",title:"\u0412\u044b\u0443\u0447\u0438\u0442\u044c EC6",status:"backlog"},{id:"card-1",title:"\u0412\u044b\u0443\u0447\u0438\u0442\u044c React",status:"backlog"}]},{className:"processing",title:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",id:"group-1",tasks:[{id:"card-2",title:"\u0412\u044b\u0443\u0447\u0438\u0442\u044c CSS",status:"processing"}]},{className:"done",title:"\u0413\u043e\u0442\u043e\u0432\u043e",id:"group-2",tasks:[]},{className:"basket",title:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",id:"group-3",tasks:[{id:"card-3",title:"Chill out",status:"basket"}]}],j=10,p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b.ADD_TASK:var a={title:e.payload,status:"backlog",id:"card-".concat(j)};j+=1;var s=t.map((function(t){return"backlog"===t.className?Object(o.a)(Object(o.a)({},t),{},{tasks:[].concat(Object(d.a)(t.tasks),[a])}):t}));return s;case b.UPDATE_TASK:var n=e.payload.task,c=t.map((function(t){if(t.id===e.payload.groupId){var a=t.tasks.map((function(t){return t.id===e.payload.task.id?n:t}));return Object(o.a)(Object(o.a)({},t),{},{tasks:a})}return t}));return c;case b.CLEAR_GROUP:var r=t.map((function(t){return t.id===e.payload?Object(o.a)(Object(o.a)({},t),{},{tasks:[]}):t}));return r;case b.DRAG_HAPPEND:var i=e.payload,l=i.droppableIdStart,p=i.droppableIdEnd,h=i.droppableIndexStart,O=i.droppableIndexEnd,x=Object(d.a)(t);if(l===p){var f,g=t.find((function(t){return l===t.id})),k=g.tasks.splice(h,1);(f=g.tasks).splice.apply(f,[O,0].concat(Object(d.a)(k)))}if(l!==p){var m,v=t.find((function(t){return l===t.id})),_=v.tasks.splice(h,1),y=t.find((function(t){return p===t.id}));_[0].status=y.className,(m=y.tasks).splice.apply(m,[O,0].concat(Object(d.a)(_)))}return x;default:return t}},h=Object(i.c)({groups:p}),O=Object(i.e)(h),x=a(6),f=a(1),g=Object(r.b)()((function(t){var e=Object(s.useState)(""),a=Object(x.a)(e,2),n=a[0],c=a[1],r=Object(s.useState)(!1),i=Object(x.a)(r,2),d=i[0],o=i[1];return Object(f.jsxs)("section",{className:"add-task",children:[Object(f.jsx)("h2",{className:"visually-hidden",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),Object(f.jsxs)("form",{className:"add-task__form","aria-label":"\u0424\u043e\u0440\u043c\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438",onSubmit:function(e){var a;e.preventDefault(),o(!0),(0,t.dispatch)((a=n,{type:b.ADD_TASK,payload:a})),c(""),o(!1)},children:[Object(f.jsxs)("div",{className:"add-task__input-wrapper",children:[Object(f.jsx)("label",{htmlFor:"add-task",children:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"}),Object(f.jsx)("input",{type:"text",name:"task-name",id:"add-task",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438...",required:!0,value:n,onChange:function(t){return c(t.target.value)}})]}),d&&Object(f.jsxs)("button",{className:"add-task__button button",type:"submit",disabled:!0,children:[Object(f.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("rect",{x:"10.0833",y:"3.66663",width:"1.83333",height:"14.6667",fill:"white"}),Object(f.jsx)("rect",{x:"18.3333",y:"10.0833",width:"1.83333",height:"14.6667",transform:"rotate(90 18.3333 10.0833)",fill:"white"})]}),Object(f.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u044e..."})]}),!d&&Object(f.jsxs)("button",{className:"add-task__button button",type:"submit",children:[Object(f.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("rect",{x:"10.0833",y:"3.66663",width:"1.83333",height:"14.6667",fill:"white"}),Object(f.jsx)("rect",{x:"18.3333",y:"10.0833",width:"1.83333",height:"14.6667",transform:"rotate(90 18.3333 10.0833)",fill:"white"})]}),Object(f.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})]})})),k=a(15),m=a(16),v=a(18),_=a(17),y=a(8),w=Object(r.b)()((function(t){var e=t.groupId,a=t.dispatch;return Object(f.jsxs)("button",{className:"taskboard__button button button--clear",type:"button",onClick:function(t){t.preventDefault(),a(function(t){return{type:b.CLEAR_GROUP,payload:t}}(e))},children:[Object(f.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("rect",{x:"15.5374",y:"5.16638",width:"1.83333",height:"14.6667",transform:"rotate(45 15.5374 5.16638)",fill:"white"}),Object(f.jsx)("rect",{x:"16.8337",y:"15.5372",width:"1.83333",height:"14.6667",transform:"rotate(135 16.8337 15.5372)",fill:"white"})]}),Object(f.jsx)("span",{children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]})})),N=function(t){var e=t.text;return Object(f.jsx)("div",{className:"task--empty task task--empty-trash",children:Object(f.jsx)("p",{children:e})})},A=Object(r.b)()((function(t){var e=t.groupId,a=t.task,n=t.index,c=t.dispatch,r=Object(s.useState)(!1),i=Object(x.a)(r,2),d=i[0],l=i[1],u=Object(s.useState)(a.title),j=Object(x.a)(u,2),p=j[0],h=j[1],O=Object(s.useState)(a.title),g=Object(x.a)(O,2),k=g[0],m=g[1],v=function(t){t.preventDefault(),l(!0)};return Object(s.useEffect)((function(){var t=function(t){var s={id:a.id,status:a.status,title:k};"Enter"===t.key&&(c(function(t,e){return{type:b.UPDATE_TASK,payload:{groupId:t,task:e}}}(e,s)),h(k),l(!1))};return document.addEventListener("keypress",t),function(){document.removeEventListener("keypress",t)}}),[k,m,p,a.id,a.status,e,c]),Object(f.jsx)(y.b,{draggableId:String(a.id),index:n,children:function(t){return Object(f.jsxs)("div",Object(o.a)(Object(o.a)(Object(o.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{className:"taskboard__item task task--".concat(a.status," ").concat(d?"task--active":""),children:[Object(f.jsxs)("div",{className:"task__body",children:[Object(f.jsx)("p",{className:"task__view",children:p}),Object(f.jsx)("input",{className:"task__input",type:"text",value:k,autoFocus:!0,onChange:function(t){return m(t.target.value)}})]}),Object(f.jsx)("button",{className:"task__edit",type:"button","aria-label":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",onClick:v})]}))}})})),D=function(t){var e=t.tasks,a=t.title,s=t.className,n=t.groupId;return Object(f.jsxs)("article",{className:"taskboard__group taskboard__group--".concat(s),children:[Object(f.jsx)("h3",{className:"taskboard__group-heading taskboard__group-heading--".concat(s),children:a}),Object(f.jsx)(y.c,{droppableId:String(n),children:function(t){return Object(f.jsxs)("div",Object(o.a)(Object(o.a)({},t.droppableProps),{},{ref:t.innerRef,className:"taskboard__list",children:[e.map((function(t,e){return Object(f.jsx)(A,{groupId:n,index:e,task:t},t.id)})),0===e.length&&Object(f.jsx)(N,{text:"".concat("basket"===s?"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430":"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443")}),t.placeholder]}))}}),"basket"===s&&Object(f.jsx)(w,{groupId:n})]})},E=function(t){Object(v.a)(a,t);var e=Object(_.a)(a);function a(){var t;Object(k.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).onDragEnd=function(e){var a=e.destination,s=e.source;a&&t.props.dispatch(l(s.droppableId,a.droppableId,s.index,a.index))},t}return Object(m.a)(a,[{key:"render",value:function(){var t=this.props.groups;return Object(f.jsx)(y.a,{onDragEnd:this.onDragEnd,children:Object(f.jsxs)("section",{className:"taskboard",children:[Object(f.jsx)("h2",{className:"visually-hidden",children:"\u0412\u0430\u0448\u0438 \u0437\u0430\u0434\u0430\u0447\u0438:"}),t.map((function(t){return Object(f.jsx)(D,{title:t.title,className:t.className,tasks:t.tasks,groupId:t.id},t.id)}))]})})}}]),a}(s.Component),S=Object(r.b)((function(t){return{groups:t.groups}}))(E),I=function(){return Object(f.jsx)("main",{className:"board-app__main",children:Object(f.jsxs)("div",{className:"board-app__inner",children:[Object(f.jsx)(g,{}),Object(f.jsx)(S,{})]})})},P=function(){return Object(f.jsx)("header",{className:"board-app__header",children:Object(f.jsx)("div",{className:"board-app__inner",children:Object(f.jsx)("h1",{children:"\u041a\u0430\u043d\u0431\u0430\u043d-\u0434\u043e\u0441\u043a\u0430"})})})};var R=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(P,{}),Object(f.jsx)(I,{})]})};c.a.render(Object(f.jsx)(r.a,{store:O,children:Object(f.jsx)(R,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.d9055525.chunk.js.map